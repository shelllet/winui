?OpenWrt 中设?DNS 有两种主要方法，具体取决于您想要达到的目的?

### 方法一：更?OpenWrt 路由器本身的 DNS 服务?

这种方法?OpenWrt 路由器作?DNS 代理服务器，将您网络中所有设备的 DNS 请求转发到您指定的外?DNS 服务器。这是最常见、最简单的设置方式?

1.  登录 OpenWrt ?LuCI Web 界面（通常?`http://192.168.1.1`）?
2.  导航?**网络 (Network)** -> **接口 (Interfaces)**?
3.  找到并编辑您?**WAN** 接口（通常是连接到互联网的接口）?
4.  ?**高级设置 (Advanced Settings)** 选项卡下，取消勾?**“使用路由器提供?DNS 服务?(Use DNS servers advertised by peer)?*?
5.  在下方出现的 **“使用自定义 DNS 服务?(Use custom DNS servers)?* 框中，输入您想要使用?DNS 服务?IP 地址，例?Cloudflare ?`1.1.1.1` ?Google ?`8.8.8.8`。您可以添加多个以空格分隔?
6.  点击 **保存 (Save)** ?**应用 (Apply)**?

---

### 方法二：让客户端直接使用自定?DNS 服务?

这种方法可以?OpenWrt ?DHCP 服务器告诉您网络中的设备（如电脑、手机）直接使用您指定的 DNS 服务器，而不是路由器本身。这适用于您希望某些设备绕过路由器的 DNS 代理功能，或使用特定 DNS 功能（如广告拦截或内容过滤）?

1.  登录 OpenWrt ?LuCI Web 界面?
2.  导航?**网络 (Network)** -> **DHCP/DNS**?
3.  ?**DHCP** 选项卡下?**“高级设?(Advanced Settings)?* 中，找到 **“DHCP 选项 (DHCP-Options)?* 字段?
4.  在其中输?`6,DNS1,DNS2` 的格式。例如，如果您想使用 Cloudflare ?DNS，可以输?`6,1.1.1.1,1.0.0.1`?
5.  点击 **保存 (Save)** ?**应用 (Apply)**?

#### 两种方法的区?

* **方法一 (WAN)**：路由器自己使用指定?DNS，而您的设备仍然会从路由器获得 DNS 地址（通常?`192.168.1.1`）。然后，路由器会将您的设备的 DNS 请求转发到您?WAN 接口上设置的 DNS 服务器。这种方法可以方便地实现全网广告拦截或内容过滤?
* **方法?(DHCP)**：路由器直接将指定的 DNS 服务器地址推送给网络中的所有设备。设备会直接向该 DNS 服务器发送请求，而不会经过路由器?

通常?*方法一**是大多数用户的首选，因为它更简单，并且可以更好地利?OpenWrt 的其他功能（如广告拦截）?

如果您有更复杂的 DNS 需求，比如需要配?**DNS over HTTPS (DoH)** ?**DNS over TLS (DoT)** 以加密您?DNS 查询，则需要安装额外的软件包（?`https-dns-proxy`）并进行更高级的配置
