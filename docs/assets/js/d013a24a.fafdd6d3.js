"use strict";(self.webpackChunkwinui_docs=self.webpackChunkwinui_docs||[]).push([[4079],{28453(e,n,d){d.d(n,{R:()=>s,x:()=>c});var l=d(96540);const r={},i=l.createContext(r);function s(e){const n=l.useContext(i);return l.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:s(e.components),l.createElement(i.Provider,{value:n},e.children)}},67733(e,n,d){d.r(n),d.d(n,{assets:()=>o,contentTitle:()=>c,default:()=>x,frontMatter:()=>s,metadata:()=>l,toc:()=>t});const l=JSON.parse('{"id":"introduction/mixed/paddle2onnx","title":"Paddle2ONNX\u6a21\u578b\u8f6c\u5316\u4e0e\u9884\u6d4b","description":"\u672c\u7ae0\u8282\u4ecb\u7ecd PaddleOCR \u6a21\u578b\u5982\u4f55\u8f6c\u5316\u4e3a ONNX \u6a21\u578b\uff0c\u5e76\u5728 \u5c0f\u53cb+ \u4e2d\u4f7f\u7528\u3002","source":"@site/docs_src/introduction/mixed/paddle2onnx.md","sourceDirName":"introduction/mixed","slug":"/introduction/mixed/paddle2onnx","permalink":"/introduction/mixed/paddle2onnx","draft":false,"unlisted":false,"editUrl":"https://github.com/shelllet/WinUi/edit/main/docs_src/introduction/mixed/paddle2onnx.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Glob\u6a21\u5f0f","permalink":"/introduction/mixed/glob"},"next":{"title":"\u901a\u914d\u7b26","permalink":"/introduction/mixed/wildcard"}}');var r=d(74848),i=d(28453);const s={},c="Paddle2ONNX\u6a21\u578b\u8f6c\u5316\u4e0e\u9884\u6d4b",o={},t=[{value:"1. \u73af\u5883\u51c6\u5907",id:"1-\u73af\u5883\u51c6\u5907",level:2},{value:"Python",id:"python",level:3},{value:"\u865a\u62df\u73af\u5883",id:"\u865a\u62df\u73af\u5883",level:3},{value:"\u4f7f\u7528 <code>venv</code> \u6a21\u5757\uff08Python \u6807\u51c6\u5e93\u81ea\u5e26\uff09",id:"\u4f7f\u7528-venv-\u6a21\u5757python-\u6807\u51c6\u5e93\u81ea\u5e26",level:3},{value:"\u6b65\u9aa4",id:"\u6b65\u9aa4",level:4},{value:"Paddle",id:"paddle",level:3},{value:"1. \u9009\u62e9\u5408\u9002\u7684 Paddle \u7248\u672c",id:"1-\u9009\u62e9\u5408\u9002\u7684-paddle-\u7248\u672c",level:4},{value:"2. \u5b89\u88c5 Paddle",id:"2-\u5b89\u88c5-paddle",level:4},{value:"CPU \u7248\u672c\u5b89\u88c5\uff08\u63a8\u8350\uff09",id:"cpu-\u7248\u672c\u5b89\u88c5\u63a8\u8350",level:5},{value:"GPU \u7248\u672c\u5b89\u88c5",id:"gpu-\u7248\u672c\u5b89\u88c5",level:5},{value:"4. \u9a8c\u8bc1\u5b89\u88c5",id:"4-\u9a8c\u8bc1\u5b89\u88c5",level:3},{value:"5. \u9519\u8bef",id:"5-\u9519\u8bef",level:3},{value:"PaddleOCR",id:"paddleocr",level:3},{value:"Paddle2ONNX",id:"paddle2onnx",level:3},{value:"2. \u6a21\u578b\u8f6c\u6362",id:"2-\u6a21\u578b\u8f6c\u6362",level:2},{value:"3. \u63a8\u7406\u9884\u6d4b",id:"3-\u63a8\u7406\u9884\u6d4b",level:2},{value:"Q1: \u5c0f\u53cb+ ONXX \u6a21\u578b\u652f\u6301\u7684 \u6700\u5927 IR VERSION \uff1f",id:"q1-\u5c0f\u53cb-onxx-\u6a21\u578b\u652f\u6301\u7684-\u6700\u5927-ir-version-",level:3},{value:"Q2: \u8f6c\u6362\u540e\u7684\u6a21\u578b\uff0cONNX Runtime\u52a0\u8f7d\u63d0\u793a<code>Unknown model file format version</code>?",id:"q2-\u8f6c\u6362\u540e\u7684\u6a21\u578bonnx-runtime\u52a0\u8f7d\u63d0\u793aunknown-model-file-format-version",level:3}];function h(e){const n={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components},{Details:d}=n;return d||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"paddle2onnx\u6a21\u578b\u8f6c\u5316\u4e0e\u9884\u6d4b",children:"Paddle2ONNX\u6a21\u578b\u8f6c\u5316\u4e0e\u9884\u6d4b"})}),"\n",(0,r.jsxs)(n.p,{children:["\u672c\u7ae0\u8282\u4ecb\u7ecd PaddleOCR \u6a21\u578b\u5982\u4f55\u8f6c\u5316\u4e3a ONNX \u6a21\u578b\uff0c\u5e76\u5728 ",(0,r.jsx)(n.em,{children:"\u5c0f\u53cb+"})," \u4e2d\u4f7f\u7528\u3002"]}),"\n",(0,r.jsx)(n.h2,{id:"1-\u73af\u5883\u51c6\u5907",children:"1. \u73af\u5883\u51c6\u5907"}),"\n",(0,r.jsx)(n.p,{children:"\u9700\u8981\u51c6\u5907 Python\u3001Paddle\u3001 PaddleOCR\u3001Paddle2ONNX \u6a21\u578b\u8f6c\u5316\u73af\u5883\uff0c\u548c ONNXRuntime \u9884\u6d4b\u73af\u5883\u3002"}),"\n",(0,r.jsx)(n.h3,{id:"python",children:"Python"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\u4e0b\u8f7d Python \u5b89\u88c5\u5305\uff0c\u672c\u7ae0\u8282\u4f7f\u7528 ",(0,r.jsx)(n.code,{children:"3.12.9"})," \u7248\u672c\uff0c\u4e0b\u8f7d\u94fe\u63a5:",(0,r.jsx)(n.a,{href:"https://www.python.org/ftp/python/3.12.9/python-3.12.9-amd64.exe",children:"https://www.python.org/ftp/python/3.12.9/python-3.12.9-amd64.exe"}),"\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\u6253\u5f00 Python \u5b98\u65b9\u4e0b\u8f7d\u9875\u9762 ",(0,r.jsx)(n.a,{href:"https://www.python.org/downloads/",children:"https://www.python.org/downloads/"}),"\u3002"]}),"\n",(0,r.jsx)(n.li,{children:"\u9875\u9762\u4f1a\u6839\u636e\u4f60\u7684\u7cfb\u7edf\u81ea\u52a8\u63a8\u8350\u5408\u9002\u7684 Python \u7248\u672c\u3002\u901a\u5e38\u5efa\u8bae\u9009\u62e9\u6700\u65b0\u7684\u7a33\u5b9a\u7248\u672c\uff0c\u5728\u9875\u9762\u4e2d\u627e\u5230\u201cDownload Python x.x.x\u201d\uff08x.x.x \u4ee3\u8868\u5177\u4f53\u7248\u672c\u53f7\uff09\u6309\u94ae\u5e76\u70b9\u51fb\u3002\u82e5\u4f60\u7684 Windows \u7cfb\u7edf\u662f 64 \u4f4d\uff0c\u4e0b\u8f7d 64 - bit \u7684\u5b89\u88c5\u5305\uff1b\u82e5\u4e3a 32 \u4f4d\u7cfb\u7edf\uff0c\u5219\u4e0b\u8f7d 32 - bit \u7684\u5b89\u88c5\u5305\u3002"}),"\n"]}),"\n",(0,r.jsxs)(n.ol,{start:"2",children:["\n",(0,r.jsx)(n.li,{children:"\u8fd0\u884c\u5b89\u88c5\u7a0b\u5e8f"}),"\n"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\u627e\u5230\u4e0b\u8f7d\u597d\u7684 ",(0,r.jsx)(n.code,{children:".exe"})," \u683c\u5f0f\u7684\u5b89\u88c5\u6587\u4ef6\uff0c\u53cc\u51fb\u8fd0\u884c\u3002"]}),"\n",(0,r.jsx)(n.li,{children:"\u5728\u5f39\u51fa\u7684\u5b89\u88c5\u754c\u9762\u4e2d\uff0c\u6ce8\u610f\u52fe\u9009\u201cAdd Python x.x to PATH\u201d\u9009\u9879\uff0c\u8fd9\u4e2a\u64cd\u4f5c\u80fd\u81ea\u52a8\u5c06 Python \u53ef\u6267\u884c\u6587\u4ef6\u8def\u5f84\u6dfb\u52a0\u5230\u7cfb\u7edf\u7684\u73af\u5883\u53d8\u91cf\u4e2d\uff0c\u4e4b\u540e\u4f60\u5c31\u80fd\u5728\u547d\u4ee4\u63d0\u793a\u7b26\u91cc\u76f4\u63a5\u4f7f\u7528 Python \u547d\u4ee4\u3002"}),"\n",(0,r.jsx)(n.li,{children:"\u4f60\u53ef\u4ee5\u9009\u62e9\u201cInstall Now\u201d\u8fdb\u884c\u9ed8\u8ba4\u5b89\u88c5\uff0c\u4e5f\u80fd\u70b9\u51fb\u201cCustomize installation\u201d\u6765\u81ea\u5b9a\u4e49\u5b89\u88c5\u8def\u5f84\u548c\u7ec4\u4ef6\u3002\u82e5\u4e0d\u786e\u5b9a\u5982\u4f55\u9009\u62e9\uff0c\u5efa\u8bae\u76f4\u63a5\u70b9\u51fb\u201cInstall Now\u201d\u3002"}),"\n",(0,r.jsx)(n.li,{children:"\u7b49\u5f85\u5b89\u88c5\u8fc7\u7a0b\u5b8c\u6210\uff0c\u8fd9\u53ef\u80fd\u9700\u8981\u4e00\u4e9b\u65f6\u95f4\uff0c\u53d6\u51b3\u4e8e\u4f60\u7684\u7cfb\u7edf\u6027\u80fd\u3002"}),"\n"]}),"\n",(0,r.jsxs)(n.ol,{start:"3",children:["\n",(0,r.jsx)(n.li,{children:"\u9a8c\u8bc1 Python \u5b89\u88c5"}),"\n"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\u6309\u4e0b ",(0,r.jsx)(n.code,{children:"Win + R"})," \u7ec4\u5408\u952e\uff0c\u6253\u5f00\u201c\u8fd0\u884c\u201d\u5bf9\u8bdd\u6846\uff0c\u8f93\u5165 ",(0,r.jsx)(n.code,{children:"cmd"})," \u5e76\u56de\u8f66\uff0c\u4ee5\u6b64\u6253\u5f00\u547d\u4ee4\u63d0\u793a\u7b26\u7a97\u53e3\u3002"]}),"\n",(0,r.jsxs)(n.li,{children:["\u5728\u547d\u4ee4\u63d0\u793a\u7b26\u4e2d\u8f93\u5165 ",(0,r.jsx)(n.code,{children:"python --version"})," \u5e76\u56de\u8f66\u3002\u82e5\u5b89\u88c5\u6210\u529f\uff0c\u4f1a\u663e\u793a\u6240\u5b89\u88c5\u7684 Python \u7248\u672c\u53f7\uff0c\u4f8b\u5982 ",(0,r.jsx)(n.code,{children:"Python 3.11.5"}),"\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(n.ol,{start:"4",children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["\u9a8c\u8bc1 pip \u5b89\u88c5\r\n",(0,r.jsx)(n.code,{children:"pip"})," \u662f Python \u7684\u5305\u7ba1\u7406\u5de5\u5177\uff0c\u4e00\u822c\u4f1a\u968f Python \u4e00\u8d77\u5b89\u88c5\u3002\u5728\u547d\u4ee4\u63d0\u793a\u7b26\u4e2d\u8f93\u5165 ",(0,r.jsx)(n.code,{children:"pip --version"})," \u5e76\u56de\u8f66\uff0c\u82e5\u5b89\u88c5\u6210\u529f\uff0c\u4f1a\u663e\u793a ",(0,r.jsx)(n.code,{children:"pip"})," \u7684\u7248\u672c\u4fe1\u606f\u4ee5\u53ca\u5bf9\u5e94\u7684 Python \u7248\u672c\uff0c\u4f8b\u5982 ",(0,r.jsx)(n.code,{children:"pip 23.3.1 from C:\\Python311\\Lib\\site-packages\\pip (python 3.11)"}),"\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["\u66f4\u65b0 pip\uff08\u53ef\u9009\uff09\r\n\u4e3a\u4fdd\u8bc1\u80fd\u4f7f\u7528 ",(0,r.jsx)(n.code,{children:"pip"})," \u7684\u6700\u65b0\u7279\u6027\u548c\u4fee\u590d\u5df2\u77e5\u95ee\u9898\uff0c\u53ef\u5728\u547d\u4ee4\u63d0\u793a\u7b26\u4e2d\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\u6765\u66f4\u65b0 ",(0,r.jsx)(n.code,{children:"pip"}),"\uff1a"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-plaintext",children:"python -m pip install --upgrade pip\n"})}),"\n",(0,r.jsx)(n.h3,{id:"\u865a\u62df\u73af\u5883",children:"\u865a\u62df\u73af\u5883"}),"\n",(0,r.jsx)(n.p,{children:"\u5728 Python \u5f00\u53d1\u4e2d\uff0c\u865a\u62df\u73af\u5883\u662f\u4e00\u4e2a\u975e\u5e38\u6709\u7528\u7684\u5de5\u5177\uff0c\u5b83\u53ef\u4ee5\u4e3a\u6bcf\u4e2a\u9879\u76ee\u521b\u5efa\u72ec\u7acb\u7684 Python \u8fd0\u884c\u73af\u5883\uff0c\u907f\u514d\u4e0d\u540c\u9879\u76ee\u4e4b\u95f4\u7684\u4f9d\u8d56\u51b2\u7a81\u3002"}),"\n",(0,r.jsxs)(n.h3,{id:"\u4f7f\u7528-venv-\u6a21\u5757python-\u6807\u51c6\u5e93\u81ea\u5e26",children:["\u4f7f\u7528 ",(0,r.jsx)(n.code,{children:"venv"})," \u6a21\u5757\uff08Python \u6807\u51c6\u5e93\u81ea\u5e26\uff09"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"venv"})," \u662f Python 3.3 \u53ca\u4ee5\u4e0a\u7248\u672c\u6807\u51c6\u5e93\u4e2d\u81ea\u5e26\u7684\u865a\u62df\u73af\u5883\u521b\u5efa\u5de5\u5177\uff0c\u4f7f\u7528\u8d77\u6765\u7b80\u5355\u65b9\u4fbf\u3002"]}),"\n",(0,r.jsx)(n.h4,{id:"\u6b65\u9aa4",children:"\u6b65\u9aa4"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u6253\u5f00\u547d\u4ee4\u884c\u5de5\u5177"}),"\uff1a\u5728 Windows \u7cfb\u7edf\u4e2d\u53ef\u4ee5\u4f7f\u7528\u547d\u4ee4\u63d0\u793a\u7b26\uff08CMD\uff09\u6216 PowerShell\u3002"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u521b\u5efa\u865a\u62df\u73af\u5883"}),"\uff1a\u5728\u547d\u4ee4\u884c\u4e2d\u8fdb\u5165\u4f60\u60f3\u8981\u521b\u5efa\u865a\u62df\u73af\u5883\u7684\u76ee\u5f55\uff0c\u7136\u540e\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\uff1a"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-PowerShell",children:"cd d:\\onnx\r\n\r\npython -m venv myenv\r\n\r\n# PowerShell\r\n.\\myenv\\Scripts\\Activate.ps1\r\n\r\n# CMD\r\n# .\\myenv\\Scripts\\activate.bat\n"})}),"\n",(0,r.jsxs)(n.p,{children:["\u5176\u4e2d ",(0,r.jsx)(n.code,{children:"myenv"})," \u662f\u4f60\u8981\u521b\u5efa\u7684\u865a\u62df\u73af\u5883\u7684\u540d\u79f0\uff0c\u4f60\u53ef\u4ee5\u6839\u636e\u9700\u8981\u8fdb\u884c\u4fee\u6539\u3002"]}),"\n",(0,r.jsxs)(n.ol,{start:"3",children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u6fc0\u6d3b\u865a\u62df\u73af\u5883"}),"\uff1a","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Windows\uff08CMD\uff09"}),"\uff1a"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-plaintext",children:"myenv\\Scripts\\activate.bat\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Windows\uff08PowerShell\uff09"}),"\uff1a"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-plaintext",children:"myenv\\Scripts\\Activate.ps1\n"})}),"\n",(0,r.jsx)(n.p,{children:"\u6fc0\u6d3b\u865a\u62df\u73af\u5883\u540e\uff0c\u547d\u4ee4\u884c\u63d0\u793a\u7b26\u524d\u9762\u4f1a\u663e\u793a\u865a\u62df\u73af\u5883\u7684\u540d\u79f0\uff0c\u8868\u660e\u4f60\u5df2\u7ecf\u6210\u529f\u8fdb\u5165\u8be5\u865a\u62df\u73af\u5883\u3002"}),"\n",(0,r.jsxs)(n.ol,{start:"4",children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u5b89\u88c5\u4f9d\u8d56\u5305"}),"\uff1a\u5728\u865a\u62df\u73af\u5883\u4e2d\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528 ",(0,r.jsx)(n.code,{children:"pip"})," \u5b89\u88c5\u9879\u76ee\u6240\u9700\u7684\u4f9d\u8d56\u5305\uff0c\u4f8b\u5982\uff1a"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-plaintext",children:"pip install requests\n"})}),"\n",(0,r.jsxs)(n.ol,{start:"5",children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u9000\u51fa\u865a\u62df\u73af\u5883"}),"\uff1a\u5f53\u4f60\u5b8c\u6210\u5f00\u53d1\u5de5\u4f5c\u540e\uff0c\u53ef\u4ee5\u5728\u547d\u4ee4\u884c\u4e2d\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\u9000\u51fa\u865a\u62df\u73af\u5883\uff1a"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-plaintext",children:"deactivate\n"})}),"\n",(0,r.jsx)(n.h3,{id:"paddle",children:"Paddle"}),"\n",(0,r.jsxs)(n.p,{children:["\u5728\u4f7f\u7528 ",(0,r.jsx)(n.code,{children:"pip install paddlepaddle"})," \u5b89\u88c5 PaddlePaddle\uff08\u4ee5\u4e0b\u7b80\u79f0 Paddle\uff09\u65f6\uff0c\u6709\u4e00\u4e9b\u8981\u70b9\u9700\u8981\u6ce8\u610f\uff0c\u4e0b\u9762\u4e3a\u4f60\u8be6\u7ec6\u4ecb\u7ecd\u4e0d\u540c\u73af\u5883\u4e0b\u7684\u5b89\u88c5\u6b65\u9aa4\u548c\u6ce8\u610f\u4e8b\u9879\u3002"]}),"\n",(0,r.jsx)(n.h4,{id:"1-\u9009\u62e9\u5408\u9002\u7684-paddle-\u7248\u672c",children:"1. \u9009\u62e9\u5408\u9002\u7684 Paddle \u7248\u672c"}),"\n",(0,r.jsx)(n.p,{children:"Paddle \u6709 CPU \u7248\u672c\u548c GPU \u7248\u672c\uff0c\u4f60\u9700\u8981\u6839\u636e\u81ea\u5df1\u7684\u786c\u4ef6\u60c5\u51b5\u9009\u62e9\u5408\u9002\u7684\u7248\u672c\u3002"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"CPU \u7248\u672c"}),"\uff1a\u5982\u679c\u4f60\u7684\u8ba1\u7b97\u673a\u6ca1\u6709 NVIDIA GPU \u6216\u8005\u4e0d\u9700\u8981\u4f7f\u7528 GPU \u8fdb\u884c\u8ba1\u7b97\uff0c\u90a3\u4e48\u9009\u62e9 CPU \u7248\u672c\u5373\u53ef\u3002"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"GPU \u7248\u672c"}),"\uff1a\u5982\u679c\u4f60\u7684\u8ba1\u7b97\u673a\u914d\u5907\u4e86 NVIDIA GPU\uff0c\u5e76\u4e14\u60f3\u5229\u7528 GPU \u7684\u8ba1\u7b97\u80fd\u529b\u52a0\u901f\u8bad\u7ec3\u548c\u63a8\u7406\uff0c\u90a3\u4e48\u9700\u8981\u5b89\u88c5 GPU \u7248\u672c\u3002\u540c\u65f6\uff0c\u4f60\u8fd8\u9700\u8981\u5b89\u88c5\u5bf9\u5e94\u7684 CUDA \u548c cuDNN \u5e93\u3002"]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"2-\u5b89\u88c5-paddle",children:"2. \u5b89\u88c5 Paddle"}),"\n",(0,r.jsx)(n.h5,{id:"cpu-\u7248\u672c\u5b89\u88c5\u63a8\u8350",children:"CPU \u7248\u672c\u5b89\u88c5\uff08\u63a8\u8350\uff09"}),"\n",(0,r.jsx)(n.p,{children:"\u5728\u547d\u4ee4\u884c\u4e2d\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\u5b89\u88c5 CPU \u7248\u672c\u7684 Paddle\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"pip install paddlepaddle -i https://mirror.baidu.com/pypi/simple\n"})}),"\n",(0,r.jsxs)(n.p,{children:["\u8fd9\u91cc ",(0,r.jsx)(n.code,{children:"-i https://mirror.baidu.com/pypi/simple"})," \u662f\u6307\u5b9a\u4f7f\u7528\u767e\u5ea6\u7684 PyPI \u955c\u50cf\u6e90\uff0c\u8fd9\u6837\u53ef\u4ee5\u52a0\u5feb\u4e0b\u8f7d\u901f\u5ea6\u3002"]}),"\n",(0,r.jsx)(n.h5,{id:"gpu-\u7248\u672c\u5b89\u88c5",children:"GPU \u7248\u672c\u5b89\u88c5"}),"\n",(0,r.jsxs)(n.p,{children:["\u5982\u679c\u4f60\u8981\u5b89\u88c5 GPU \u7248\u672c\uff0c\u9700\u8981\u5148\u786e\u8ba4\u4f60\u7684 CUDA \u548c cuDNN \u7248\u672c\uff0c\u901a\u8fc7\u6267\u884c\u547d\u4ee4 ",(0,r.jsx)(n.strong,{children:"nvidia-smi.exe"})," \u67e5\u770b CUDA \u7248\u672c\uff0c \u67e5\u770b\u8f93\u51fa\uff1a"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"nvidia-smi.exe\r\n\r\nMon Apr 21 14:18:12 2025\r\n+-----------------------------------------------------------------------------------------+\r\n| NVIDIA-SMI 576.02                 Driver Version: 576.02         CUDA Version: 12.9     |\r\n|-----------------------------------------+------------------------+----------------------+\r\n| GPU  Name                  Driver-Model | Bus-Id          Disp.A | Volatile Uncorr. ECC |\r\n| Fan  Temp   Perf          Pwr:Usage/Cap |           Memory-Usage | GPU-Util  Compute M. |\r\n|                                         |                        |               MIG M. |\r\n|=========================================+========================+======================|\r\n|   0  NVIDIA GeForce RTX 4060 ...  WDDM  |   00000000:01:00.0 Off |                  N/A |\r\n| N/A   48C    P0             13W /  140W |       0MiB /   8188MiB |      0%      Default |\r\n|                                         |                        |                  N/A |\r\n+-----------------------------------------+------------------------+----------------------+\r\n\r\n+-----------------------------------------------------------------------------------------+\r\n| Processes:                                                                              |\r\n|  GPU   GI   CI              PID   Type   Process name                        GPU Memory |\r\n|        ID   ID                                                               Usage      |\r\n|=========================================================================================|\r\n|  No running processes found                                                             |\r\n+-----------------------------------------------------------------------------------------+\n"})}),"\n",(0,r.jsxs)(n.p,{children:["CUDA \u53c2\u8003 ",(0,r.jsx)(n.a,{href:"/introduction/mixed/CUDA",children:"Windows \u7cfb\u7edf\u4e0a\u5b89\u88c5 CUDA"})," \u5b89\u88c5\uff0c\u68c0\u67e5\u76f8\u5e94\u7684",(0,r.jsx)(n.code,{children:"C:\\Program Files\\NVIDIA GPU Computing Toolkit\\CUDA\\v12.8\\bin"})," \u8def\u5f84\u662f\u5426\u52a0\u5165\u5230\u73af\u5883\u53d8\u91cf",(0,r.jsx)(n.code,{children:"PATH"}),"\u4e2d\u3002"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.a,{href:"/introduction/mixed/cuDNN",children:"\u5bf9\u5e94\u7684cuDNN"})," \u7248\u672c\u4e0b\u8f7d\uff1a",(0,r.jsx)(n.a,{href:"https://developer.nvidia.com/cudnn-downloads?target_os=Windows&target_arch=x86_64&target_version=10&target_type=exe_local",children:"https://developer.nvidia.com/cudnn-archive"}),"\u3002\u89e3\u538b\u4e4b\u540e \uff0c\u540c\u6837\u8bbe\u7f6e\u73af\u5883\u53d8\u91cf",(0,r.jsx)(n.code,{children:"PATH"}),"\u3002"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:'$env:PATH = "D:\\onnx\\cudnn-windows-x86_64-8.9.7.29_cuda12-archive\\bin;$env:PATH;"\n'})}),"\n",(0,r.jsx)(n.p,{children:"\u7136\u540e\u6839\u636e\u7248\u672c\u9009\u62e9\u5408\u9002\u7684\u5b89\u88c5\u547d\u4ee4\u3002\u4f8b\u5982\uff0c\u5982\u679c\u4f60\u4f7f\u7528\u7684\u662f CUDA 12.0 \u548c cuDNN 9.8\uff0c\u53ef\u4ee5\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"pip install paddlepaddle-gpu==3.1.0.post120 -f https://www.paddlepaddle.org.cn/whl/windows/mkl/avx/stable.html\n"})}),"\n",(0,r.jsxs)(n.p,{children:["\u5176\u4e2d ",(0,r.jsx)(n.code,{children:"2.6.1.post120"})," \u8868\u793a Paddle \u7684\u7248\u672c\uff0c",(0,r.jsx)(n.code,{children:"120"})," \u4ee3\u8868 CUDA 12.0\u3002\u4f60\u53ef\u4ee5\u6839\u636e\u81ea\u5df1\u7684\u5b9e\u9645\u60c5\u51b5\u8c03\u6574\u7248\u672c\u53f7\u3002"]}),"\n",(0,r.jsx)(n.h3,{id:"4-\u9a8c\u8bc1\u5b89\u88c5",children:"4. \u9a8c\u8bc1\u5b89\u88c5"}),"\n",(0,r.jsx)(n.p,{children:"\u5b89\u88c5\u5b8c\u6210\u540e\uff0c\u4f60\u53ef\u4ee5\u5728 Python \u73af\u5883\u4e2d\u9a8c\u8bc1 Paddle \u662f\u5426\u5b89\u88c5\u6210\u529f\u3002\u6253\u5f00 Python \u89e3\u91ca\u5668\uff0c\u8f93\u5165\u4ee5\u4e0b\u4ee3\u7801\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"import paddle\r\npaddle.utils.run_check()\n"})}),"\n",(0,r.jsxs)(n.p,{children:["\u5982\u679c\u8f93\u51fa\u7c7b\u4f3c ",(0,r.jsx)(n.code,{children:"PaddlePaddle is installed successfully!"})," \u7684\u4fe1\u606f\uff0c\u8bf4\u660e Paddle \u5df2\u7ecf\u6210\u529f\u5b89\u88c5\u3002"]}),"\n",(0,r.jsx)(n.h3,{id:"5-\u9519\u8bef",children:"5. \u9519\u8bef"}),"\n",(0,r.jsx)(n.p,{children:"\u5f53\u4f60\u9047\u5230 No module named 'setuptools' \u9519\u8bef\uff0c\u610f\u5473\u7740 Python \u73af\u5883\u91cc\u6ca1\u6709\u5b89\u88c5 setuptools \u6a21\u5757\u3002"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"pip install setuptools\n"})}),"\n",(0,r.jsx)(n.h3,{id:"paddleocr",children:"PaddleOCR"}),"\n",(0,r.jsx)(n.p,{children:"\u514b\u9686PaddleOCR\u7684\u4ed3\u5e93\uff0c\u4f7f\u7528 main \u5206\u652f\uff0c\u5e76\u8fdb\u884c\u5b89\u88c5\uff0c\u7531\u4e8e PaddleOCR \u4ed3\u5e93\u6bd4\u8f83\u5927\uff0cgit clone \u901f\u5ea6\u6bd4\u8f83\u6162\uff0c\u6216\u4f7f\u7528\u56fd\u5185\u955c\u50cf\u7ad9\u70b9\u4e0b\u8f7d\u3002"}),"\n",(0,r.jsxs)(n.p,{children:["\u4f7f\u7528\u865a\u62df\u73af\u5883\uff1a",(0,r.jsx)(n.code,{children:"(myenv) PS D:\\onnx>"}),"\u3002"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"git clone  -b main https://github.com/PaddlePaddle/PaddleOCR.git\r\ncd PaddleOCR\r\npython -m pip install -e .\n"})}),"\n",(0,r.jsx)(n.h3,{id:"paddle2onnx",children:"Paddle2ONNX"}),"\n",(0,r.jsxs)(n.p,{children:["Paddle2ONNX \u652f\u6301\u5c06 PaddlePaddle \u6a21\u578b\u683c\u5f0f\u8f6c\u5316\u5230 ONNX \u6a21\u578b\u683c\u5f0f\uff0c\u7b97\u5b50\u76ee\u524d\u7a33\u5b9a\u652f\u6301\u5bfc\u51fa ONNX Opset 9~18\uff0c\u90e8\u5206Paddle\u7b97\u5b50\u652f\u6301\u66f4\u4f4e\u7684ONNX Opset\u8f6c\u6362\u3002\r\n\u66f4\u591a\u7ec6\u8282\u53ef\u53c2\u8003 ",(0,r.jsx)(n.a,{href:"https://github.com/PaddlePaddle/Paddle2ONNX/tree/develop",children:"Paddle2ONNX"}),"\u3002\r\n\u4f7f\u7528\u865a\u62df\u73af\u5883\uff1a",(0,r.jsx)(n.code,{children:"(myenv) PS D:\\onnx>"}),"\u3002"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u5b89\u88c5 Paddle2ONNX"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"python -m pip install paddle2onnx==2.0.2rc3\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u5b89\u88c5 ONNXRuntime"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"python -m pip install onnxruntime\n"})}),"\n",(0,r.jsx)(n.h2,{id:"2-\u6a21\u578b\u8f6c\u6362",children:"2. \u6a21\u578b\u8f6c\u6362"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Paddle \u6a21\u578b\u4e0b\u8f7d"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["\u5728 ",(0,r.jsx)(n.a,{href:"https://www.paddleocr.ai/latest/version3.x/pipeline_usage/OCR.html",children:"\u6a21\u578b\u5217\u8868"})," \u4e2d\u4e0b\u8f7dPaddleOCR\u63d0\u4f9b\u7684\u9884\u6d4b\u6a21\u578b\u3002\u76ee\u524d\u5305\u542b 5 \u79cd\u6a21\u578b\uff0c"]}),"\n",(0,r.jsxs)(d,{children:[(0,r.jsx)("summary",{children:(0,r.jsx)("b",{children:"\u6587\u6863\u56fe\u50cf\u65b9\u5411\u5206\u7c7b\u6a21\u5757\uff08\u53ef\u9009\uff09\uff1a"})}),(0,r.jsxs)("table",{children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"\u6a21\u578b"}),(0,r.jsx)("th",{children:"\u6a21\u578b\u4e0b\u8f7d\u94fe\u63a5"}),(0,r.jsx)("th",{children:"Top-1 Acc\uff08%\uff09"}),(0,r.jsxs)("th",{children:["GPU\u63a8\u7406\u8017\u65f6\uff08ms\uff09",(0,r.jsx)("br",{}),"[\u5e38\u89c4\u6a21\u5f0f / \u9ad8\u6027\u80fd\u6a21\u5f0f]"]}),(0,r.jsxs)("th",{children:["CPU\u63a8\u7406\u8017\u65f6\uff08ms\uff09",(0,r.jsx)("br",{}),"[\u5e38\u89c4\u6a21\u5f0f / \u9ad8\u6027\u80fd\u6a21\u5f0f]"]}),(0,r.jsx)("th",{children:"\u6a21\u578b\u5b58\u50a8\u5927\u5c0f\uff08MB\uff09"}),(0,r.jsx)("th",{children:"\u4ecb\u7ecd"})]})}),(0,r.jsx)("tbody",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:"PP-LCNet_x1_0_doc_ori"}),(0,r.jsxs)("td",{children:[(0,r.jsx)("a",{href:"https://paddle-model-ecology.bj.bcebos.com/paddlex/official_inference_model/paddle3.0.0/PP-LCNet_x1_0_doc_ori_infer.tar",children:"\u63a8\u7406\u6a21\u578b"}),"/",(0,r.jsx)("a",{href:"https://paddle-model-ecology.bj.bcebos.com/paddlex/official_pretrained_model/PP-LCNet_x1_0_doc_ori_pretrained.pdparams",children:"\u8bad\u7ec3\u6a21\u578b"})]}),(0,r.jsx)("td",{children:"99.06"}),(0,r.jsx)("td",{children:"2.62 / 0.59"}),(0,r.jsx)("td",{children:"3.24 / 1.19"}),(0,r.jsx)("td",{children:"7"}),(0,r.jsx)("td",{children:"\u57fa\u4e8ePP-LCNet_x1_0\u7684\u6587\u6863\u56fe\u50cf\u5206\u7c7b\u6a21\u578b\uff0c\u542b\u6709\u56db\u4e2a\u7c7b\u522b\uff0c\u53730\u5ea6\uff0c90\u5ea6\uff0c180\u5ea6\uff0c270\u5ea6"})]})})]})]}),"\n",(0,r.jsxs)(d,{children:[(0,r.jsx)("summary",{children:(0,r.jsx)("b",{children:"\u6587\u672c\u56fe\u50cf\u77eb\u6b63\u6a21\u5757\uff08\u53ef\u9009\uff09\uff1a"})}),(0,r.jsxs)("table",{children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"\u6a21\u578b"}),(0,r.jsx)("th",{children:"\u6a21\u578b\u4e0b\u8f7d\u94fe\u63a5"}),(0,r.jsx)("th",{children:"CER "}),(0,r.jsxs)("th",{children:["GPU\u63a8\u7406\u8017\u65f6\uff08ms\uff09",(0,r.jsx)("br",{}),"[\u5e38\u89c4\u6a21\u5f0f / \u9ad8\u6027\u80fd\u6a21\u5f0f]"]}),(0,r.jsxs)("th",{children:["CPU\u63a8\u7406\u8017\u65f6\uff08ms\uff09",(0,r.jsx)("br",{}),"[\u5e38\u89c4\u6a21\u5f0f / \u9ad8\u6027\u80fd\u6a21\u5f0f]"]}),(0,r.jsx)("th",{children:"\u6a21\u578b\u5b58\u50a8\u5927\u5c0f\uff08MB\uff09"}),(0,r.jsx)("th",{children:"\u4ecb\u7ecd"})]})}),(0,r.jsx)("tbody",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:"UVDoc"}),(0,r.jsxs)("td",{children:[(0,r.jsx)("a",{href:"https://paddle-model-ecology.bj.bcebos.com/paddlex/official_inference_model/paddle3.0.0/UVDoc_infer.tar",children:"\u63a8\u7406\u6a21\u578b"}),"/",(0,r.jsx)("a",{href:"https://paddle-model-ecology.bj.bcebos.com/paddlex/official_pretrained_model/UVDoc_pretrained.pdparams",children:"\u8bad\u7ec3\u6a21\u578b"})]}),(0,r.jsx)("td",{children:"0.179"}),(0,r.jsx)("td",{children:"19.05 / 19.05"}),(0,r.jsx)("td",{children:"- / 869.82"}),(0,r.jsx)("td",{children:"30.3"}),(0,r.jsx)("td",{children:"\u9ad8\u7cbe\u5ea6\u6587\u672c\u56fe\u50cf\u77eb\u6b63\u6a21\u578b"})]})})]})]}),"\n",(0,r.jsxs)(d,{children:[(0,r.jsx)("summary",{children:(0,r.jsx)("b",{children:"\u6587\u672c\u884c\u65b9\u5411\u5206\u7c7b\u6a21\u5757\uff08\u53ef\u9009\uff09\uff1a"})}),(0,r.jsxs)("table",{children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"\u6a21\u578b"}),(0,r.jsx)("th",{children:"\u6a21\u578b\u4e0b\u8f7d\u94fe\u63a5"}),(0,r.jsx)("th",{children:"Top-1 Acc\uff08%\uff09"}),(0,r.jsx)("th",{children:"GPU\u63a8\u7406\u8017\u65f6\uff08ms\uff09"}),(0,r.jsx)("th",{children:"CPU\u63a8\u7406\u8017\u65f6 (ms)"}),(0,r.jsx)("th",{children:"\u6a21\u578b\u5b58\u50a8\u5927\u5c0f\uff08MB\uff09"}),(0,r.jsx)("th",{children:"\u4ecb\u7ecd"})]})}),(0,r.jsxs)("tbody",{children:[(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:"PP-LCNet_x0_25_textline_ori"}),(0,r.jsxs)("td",{children:[(0,r.jsx)("a",{href:"https://paddle-model-ecology.bj.bcebos.com/paddlex/official_inference_model/paddle3.0.0/PP-LCNet_x0_25_textline_ori_infer.tar",children:"\u63a8\u7406\u6a21\u578b"}),"/",(0,r.jsx)("a",{href:"https://paddle-model-ecology.bj.bcebos.com/paddlex/official_pretrained_model/PP-LCNet_x0_25_textline_ori_pretrained.pdparams",children:"\u8bad\u7ec3\u6a21\u578b"})]}),(0,r.jsx)("td",{children:"98.85"}),(0,r.jsx)("td",{children:"2.16 / 0.41"}),(0,r.jsx)("td",{children:"2.37 / 0.73"}),(0,r.jsx)("td",{children:"0.96"}),(0,r.jsx)("td",{children:"\u57fa\u4e8ePP-LCNet_x0_25\u7684\u6587\u672c\u884c\u5206\u7c7b\u6a21\u578b\uff0c\u542b\u6709\u4e24\u4e2a\u7c7b\u522b\uff0c\u53730\u5ea6\uff0c180\u5ea6"})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:"PP-LCNet_x1_0_textline_ori"}),(0,r.jsxs)("td",{children:[(0,r.jsx)("a",{href:"https://paddle-model-ecology.bj.bcebos.com/paddlex/official_inference_model/paddle3.0.0/PP-LCNet_x1_0_textline_ori_infer.tar",children:"\u63a8\u7406\u6a21\u578b"}),"/",(0,r.jsx)("a",{href:"https://paddle-model-ecology.bj.bcebos.com/paddlex/official_pretrained_model/PP-LCNet_x1_0_textline_ori_pretrained.pdparams",children:"\u8bad\u7ec3\u6a21\u578b"})]}),(0,r.jsx)("td",{children:"99.42"}),(0,r.jsx)("td",{children:"- / -"}),(0,r.jsx)("td",{children:"2.98 / 2.98"}),(0,r.jsx)("td",{children:"6.5"}),(0,r.jsx)("td",{children:"\u57fa\u4e8ePP-LCNet_x1_0\u7684\u6587\u672c\u884c\u5206\u7c7b\u6a21\u578b\uff0c\u542b\u6709\u4e24\u4e2a\u7c7b\u522b\uff0c\u53730\u5ea6\uff0c180\u5ea6"})]})]})]})]}),"\n",(0,r.jsxs)(d,{children:[(0,r.jsx)("summary",{children:(0,r.jsx)("b",{children:"\u6587\u672c\u68c0\u6d4b\u6a21\u5757\uff1a"})}),(0,r.jsxs)("table",{children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"\u6a21\u578b"}),(0,r.jsx)("th",{children:"\u6a21\u578b\u4e0b\u8f7d\u94fe\u63a5"}),(0,r.jsx)("th",{children:"\u68c0\u6d4bHmean\uff08%\uff09"}),(0,r.jsxs)("th",{children:["GPU\u63a8\u7406\u8017\u65f6\uff08ms\uff09",(0,r.jsx)("br",{}),"[\u5e38\u89c4\u6a21\u5f0f / \u9ad8\u6027\u80fd\u6a21\u5f0f]"]}),(0,r.jsxs)("th",{children:["CPU\u63a8\u7406\u8017\u65f6\uff08ms\uff09",(0,r.jsx)("br",{}),"[\u5e38\u89c4\u6a21\u5f0f / \u9ad8\u6027\u80fd\u6a21\u5f0f]"]}),(0,r.jsx)("th",{children:"\u6a21\u578b\u5b58\u50a8\u5927\u5c0f\uff08MB\uff09"}),(0,r.jsx)("th",{children:"\u4ecb\u7ecd"})]})}),(0,r.jsxs)("tbody",{children:[(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:"PP-OCRv5_server_det"}),(0,r.jsxs)("td",{children:[(0,r.jsx)("a",{href:"https://paddle-model-ecology.bj.bcebos.com/paddlex/official_inference_model/paddle3.0.0/PP-OCRv5_server_det_infer.tar",children:"\u63a8\u7406\u6a21\u578b"}),"/",(0,r.jsx)("a",{href:"https://paddle-model-ecology.bj.bcebos.com/paddlex/official_pretrained_model/PP-OCRv5_server_det_pretrained.pdparams",children:"\u8bad\u7ec3\u6a21\u578b"})]}),(0,r.jsx)("td",{children:"83.8"}),(0,r.jsx)("td",{children:"89.55 / 70.19"}),(0,r.jsx)("td",{children:"383.15 / 383.15"}),(0,r.jsx)("td",{children:"84.3"}),(0,r.jsx)("td",{children:"PP-OCRv5 \u7684\u670d\u52a1\u7aef\u6587\u672c\u68c0\u6d4b\u6a21\u578b\uff0c\u7cbe\u5ea6\u66f4\u9ad8\uff0c\u9002\u5408\u5728\u6027\u80fd\u8f83\u597d\u7684\u670d\u52a1\u5668\u4e0a\u90e8\u7f72"})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:"PP-OCRv5_mobile_det"}),(0,r.jsxs)("td",{children:[(0,r.jsx)("a",{href:"https://paddle-model-ecology.bj.bcebos.com/paddlex/official_inference_model/paddle3.0.0/PP-OCRv5_mobile_det_infer.tar",children:"\u63a8\u7406\u6a21\u578b"}),"/",(0,r.jsx)("a",{href:"https://paddle-model-ecology.bj.bcebos.com/paddlex/official_pretrained_model/PP-OCRv5_mobile_det_pretrained.pdparams",children:"\u8bad\u7ec3\u6a21\u578b"})]}),(0,r.jsx)("td",{children:"79.0"}),(0,r.jsx)("td",{children:"10.67 / 6.36"}),(0,r.jsx)("td",{children:"57.77 / 28.15"}),(0,r.jsx)("td",{children:"4.7"}),(0,r.jsx)("td",{children:"PP-OCRv5 \u7684\u79fb\u52a8\u7aef\u6587\u672c\u68c0\u6d4b\u6a21\u578b\uff0c\u6548\u7387\u66f4\u9ad8\uff0c\u9002\u5408\u5728\u7aef\u4fa7\u8bbe\u5907\u90e8\u7f72"})]})]})]})]}),"\n",(0,r.jsxs)(d,{children:[(0,r.jsx)("summary",{children:(0,r.jsx)("b",{children:"\u6587\u672c\u8bc6\u522b\u6a21\u5757\uff1a"})}),(0,r.jsxs)("table",{children:[(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"\u6a21\u578b"}),(0,r.jsx)("th",{children:"\u6a21\u578b\u4e0b\u8f7d\u94fe\u63a5"}),(0,r.jsx)("th",{children:"\u8bc6\u522b Avg Accuracy(%)"}),(0,r.jsxs)("th",{children:["GPU\u63a8\u7406\u8017\u65f6\uff08ms\uff09",(0,r.jsx)("br",{}),"[\u5e38\u89c4\u6a21\u5f0f / \u9ad8\u6027\u80fd\u6a21\u5f0f]"]}),(0,r.jsxs)("th",{children:["CPU\u63a8\u7406\u8017\u65f6\uff08ms\uff09",(0,r.jsx)("br",{}),"[\u5e38\u89c4\u6a21\u5f0f / \u9ad8\u6027\u80fd\u6a21\u5f0f]"]}),(0,r.jsx)("th",{children:"\u6a21\u578b\u5b58\u50a8\u5927\u5c0f\uff08MB\uff09"}),(0,r.jsx)("th",{children:"\u4ecb\u7ecd"})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:"PP-OCRv5_server_rec"}),(0,r.jsxs)("td",{children:[(0,r.jsx)("a",{href:"https://paddle-model-ecology.bj.bcebos.com/paddlex/official_inference_model/paddle3.0.0/\\\r\nPP-OCRv5_server_rec_infer.tar",children:"\u63a8\u7406\u6a21\u578b"}),"/",(0,r.jsx)("a",{href:"https://paddle-model-ecology.bj.bcebos.com/paddlex/official_pretrained_model/PP-OCRv5_server_rec_pretrained.pdparams",children:"\u8bad\u7ec3\u6a21\u578b"})]}),(0,r.jsx)("td",{children:"86.38"}),(0,r.jsx)("td",{children:"8.46 / 2.36"}),(0,r.jsx)("td",{children:"31.21 / 31.21"}),(0,r.jsx)("td",{children:"81"}),(0,r.jsx)("td",{rowspan:"2",children:"PP-OCRv5_rec \u662f\u65b0\u4e00\u4ee3\u6587\u672c\u8bc6\u522b\u6a21\u578b\u3002\u8be5\u6a21\u578b\u81f4\u529b\u4e8e\u4ee5\u5355\u4e00\u6a21\u578b\u9ad8\u6548\u3001\u7cbe\u51c6\u5730\u652f\u6301\u7b80\u4f53\u4e2d\u6587\u3001\u7e41\u4f53\u4e2d\u6587\u3001\u82f1\u6587\u3001\u65e5\u6587\u56db\u79cd\u4e3b\u8981\u8bed\u8a00\uff0c\u4ee5\u53ca\u624b\u5199\u3001\u7ad6\u7248\u3001\u62fc\u97f3\u3001\u751f\u50fb\u5b57\u7b49\u590d\u6742\u6587\u672c\u573a\u666f\u7684\u8bc6\u522b\u3002\u5728\u4fdd\u6301\u8bc6\u522b\u6548\u679c\u7684\u540c\u65f6\uff0c\u517c\u987e\u63a8\u7406\u901f\u5ea6\u548c\u6a21\u578b\u9c81\u68d2\u6027\uff0c\u4e3a\u5404\u79cd\u573a\u666f\u4e0b\u7684\u6587\u6863\u7406\u89e3\u63d0\u4f9b\u9ad8\u6548\u3001\u7cbe\u51c6\u7684\u6280\u672f\u652f\u6491\u3002"})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:"PP-OCRv5_mobile_rec"}),(0,r.jsxs)("td",{children:[(0,r.jsx)("a",{href:"https://paddle-model-ecology.bj.bcebos.com/paddlex/official_inference_model/paddle3.0.0/\\\r\nPP-OCRv5_mobile_rec_infer.tar",children:"\u63a8\u7406\u6a21\u578b"}),"/",(0,r.jsx)("a",{href:"https://paddle-model-ecology.bj.bcebos.com/paddlex/official_pretrained_model/PP-OCRv5_mobile_rec_pretrained.pdparams",children:"\u8bad\u7ec3\u6a21\u578b"})]}),(0,r.jsx)("td",{children:"81.29"}),(0,r.jsx)("td",{children:"5.43 / 1.46"}),(0,r.jsx)("td",{children:"21.20 / 5.32"}),(0,r.jsx)("td",{children:"16"})]})]})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u5c0f\u53cb+"})," \u4e2d\u96c6\u6210\u4e86 ",(0,r.jsx)(n.code,{children:"v5"})," \u7248\u672c\u7684 ",(0,r.jsx)(n.code,{children:"Mobile"})," \u6a21\u578b\uff0c\u5982\u679c\u60a8\u66f4\u6ce8\u91cd\u6a21\u578b\u7684\u7cbe\u5ea6\uff0c\u8bf7\u9009\u62e9\u7cbe\u5ea6\u8f83\u9ad8\u7684\u6a21\u578b\u3002"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u6587\u6863\u56fe\u50cf\u65b9\u5411\u5206\u7c7b\u6a21\u5757( a.oonx)"}),"\n",(0,r.jsx)(n.li,{children:"\u6587\u672c\u56fe\u50cf\u77eb\u6b63\u6a21\u5757 b.onnx"}),"\n",(0,r.jsx)(n.li,{children:"\u6587\u672c\u884c\u65b9\u5411\u5206\u7c7b\u6a21\u5757  c.onnx"}),"\n",(0,r.jsx)(n.li,{children:"\u6587\u672c\u68c0\u6d4b\u6a21\u5757> d.onxx"}),"\n",(0,r.jsx)(n.li,{children:"\u6587\u672c\u8bc6\u522b\u6a21\u5757> e.onnx"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"\r\ntar xf PP-LCNet_x1_0_doc_ori_infer.tar\r\n\r\ntar xf UVDoc_infer.tar\r\n\r\ntar xf PP-OCRv5_mobile_det_infer.tar\r\n\r\ntar xf PP-LCNet_x1_0_textline_ori_infer.tar\r\n\r\ntar xf PP-OCRv5_mobile_rec_infer\r\n\r\n\n"})}),"\n",(0,r.jsx)(n.p,{children:"\u4f7f\u7528 Paddle2ONNX \u5c06Paddle\u9759\u6001\u56fe\u6a21\u578b\u8f6c\u6362\u4e3aONNX\u6a21\u578b\u683c\u5f0f\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-PowerShell",children:"cd PP-LCNet_x1_0_doc_ori_infer\r\n\r\npaddle2onnx --model_dir . `\r\n--model_filename inference.json `\r\n--params_filename inference.pdiparams `\r\n--save_file ./model.onnx `\r\n--opset_version 18 `\r\n--enable_onnx_checker True `\r\n--optimize_tool polygraphy\r\n\r\n\r\ncd UVDoc_infer\r\n\r\npaddle2onnx --model_dir . `\r\n--model_filename inference.json `\r\n--params_filename inference.pdiparams `\r\n--save_file ./model.onnx `\r\n--opset_version 18 `\r\n--enable_auto_update_opset True `\r\n--enable_onnx_checker True `\r\n--optimize_tool polygraphy\r\n\r\ncd PP-OCRv5_mobile_det_infer\r\n\r\npaddle2onnx --model_dir . `\r\n--model_filename inference.json `\r\n--params_filename inference.pdiparams `\r\n--save_file ./model.onnx `\r\n--opset_version 18 `\r\n--enable_onnx_checker True `\r\n--optimize_tool polygraphy\r\n\r\n\r\n\r\ncd PP-LCNet_x1_0_textline_ori_infer\r\n\r\npaddle2onnx --model_dir . `\r\n--model_filename inference.json `\r\n--params_filename inference.pdiparams `\r\n--save_file ./model.onnx `\r\n--opset_version 18 `\r\n--enable_onnx_checker True `\r\n--optimize_tool onnxoptimizer\r\n\r\n\r\ncd PP-OCRv5_mobile_rec_infer\r\n\r\npaddle2onnx --model_dir . `\r\n--model_filename inference.json `\r\n--params_filename inference.pdiparams `\r\n--save_file ./model.onnx `\r\n--opset_version 18 `\r\n--enable_onnx_checker True `\r\n--optimize_tool onnxoptimizer\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"\u6ce8\u610f\uff1a\u5bf9\u4e8eOCR\u6a21\u578b\uff0c\u8f6c\u5316\u8fc7\u7a0b\u4e2d\u5fc5\u987b\u91c7\u7528\u52a8\u6001shape\u7684\u5f62\u5f0f\uff0c\u5426\u5219\u9884\u6d4b\u7ed3\u679c\u53ef\u80fd\u4e0e\u76f4\u63a5\u4f7f\u7528Paddle\u9884\u6d4b\u6709\u7ec6\u5fae\u4e0d\u540c\u3002\r\n\u53e6\u5916\uff0c\u4ee5\u4e0b\u51e0\u4e2a\u6a21\u578b\u6682\u4e0d\u652f\u6301\u8f6c\u6362\u4e3a ONNX \u6a21\u578b\uff1a\r\nNRTR\u3001SAR\u3001RARE\u3001SRN"}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["\u6ce8\u610f\uff1a",(0,r.jsx)(n.a,{href:"https://github.com/PaddlePaddle/Paddle2ONNX/releases/tag/v1.2.3",children:"\u5f53\u524dPaddle2ONNX\u7248\u672c(v1.2.3)"}),"\u73b0\u5df2\u9ed8\u8ba4\u652f\u6301\u52a8\u6001shape\uff0c\u5373 ",(0,r.jsx)(n.code,{children:"float32[p2o.DynamicDimension.0,3,p2o.DynamicDimension.1,p2o.DynamicDimension.2]"}),"\uff0c\u9009\u9879 ",(0,r.jsx)(n.code,{children:"--input_shape_dict"})," \u5df2\u5e9f\u5f03\u3002\u5982\u679c\u6709shape\u8c03\u6574\u9700\u6c42\u53ef\u4f7f\u7528\u5982\u4e0b\u547d\u4ee4\u8fdb\u884cPaddle\u6a21\u578b\u8f93\u5165shape\u8c03\u6574\u3002"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"python3 -m paddle2onnx.optimize --input_model inference/det_onnx/model.onnx `\r\n  --output_model inference/det_onnx/model.onnx `\r\n  --input_shape_dict \"{'x': [-1,3,-1,-1]}\"\n"})}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u4f18\u5316ONNX"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"\u5982\u4f60\u5bf9\u5bfc\u51fa\u7684 ONNX \u6a21\u578b\u6709\u4f18\u5316\u7684\u9700\u6c42\uff0c\u63a8\u8350\u4f7f\u7528 onnxslim \u5bf9\u6a21\u578b\u8fdb\u884c\u4f18\u5316:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"pip install onnxslim\r\n\r\nonnxslim input.onnx model.onnx\r\n\n"})}),"\n",(0,r.jsx)(n.h2,{id:"3-\u63a8\u7406\u9884\u6d4b",children:"3. \u63a8\u7406\u9884\u6d4b"}),"\n",(0,r.jsx)(n.p,{children:"\u9700\u8981\u5148\u5b89\u88c5 opencv\u3001shapely\u3001pyclipper\u7b49\u4f9d\u8d56\u5305, \u4ee5\u4e2d\u6587OCR\u6a21\u578b\u4e3a\u4f8b\uff0c\u4f7f\u7528 ONNXRuntime \u9884\u6d4b\u53ef\u6267\u884c\u5982\u4e0b\u547d\u4ee4\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"pip install opencv-python\r\npip install shapely\r\npip install pyclipper\r\npip install scikit-image\r\npip install albumentations\r\npip install lmdb\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"cd PaddleOCR\r\npython ./tools/infer/predict_system.py --use_gpu=False --use_onnx=True `\r\n--det_model_dir=../model/c.onnx  `\r\n--rec_model_dir=../model/e.onnx  `\r\n--cls_model_dir=../model/d.onnx  `\r\n--image_dir=./deploy/lite/imgs/lite_demo.png\n"})}),"\n",(0,r.jsx)(n.p,{children:"\u4ee5\u4e2d\u6587OCR\u6a21\u578b\u4e3a\u4f8b\uff0c\u4f7f\u7528 Paddle Inference \u9884\u6d4b\u53ef\u6267\u884c\u5982\u4e0b\u547d\u4ee4\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"cd PaddleOCR\r\npython ./tools/infer/predict_system.py --use_gpu=False `\r\n--rec_image_shape=3,48,320 `\r\n--cls_model_dir=../model/ch_ppocr_mobile_v2.0_cls_infer `\r\n--rec_model_dir=../model/ch_PP-OCRv5_rec_infer `\r\n--det_model_dir=../model/ch_PP-OCRv5_det_infer `\r\n--image_dir=./deploy/lite/imgs/lite_demo.png\n"})}),"\n",(0,r.jsxs)(n.p,{children:["\u6267\u884c\u547d\u4ee4\u540e\u5728\u7ec8\u7aef\u4f1a\u6253\u5370\u51fa\u9884\u6d4b\u7684\u8bc6\u522b\u4fe1\u606f\uff0c\u5e76\u5728 ",(0,r.jsx)(n.code,{children:"./inference_results/"})," \u4e0b\u4fdd\u5b58\u53ef\u89c6\u5316\u7ed3\u679c\u3002"]}),"\n",(0,r.jsx)(n.p,{children:"ONNXRuntime \u6267\u884c\u6548\u679c\uff1a"}),"\n",(0,r.jsx)("div",{align:"center",children:(0,r.jsx)("img",{src:"./introduction/mixed/inference_results/lite_demo_onnx.png"})}),"\n",(0,r.jsx)(n.p,{children:"Paddle Inference \u6267\u884c\u6548\u679c\uff1a"}),"\n",(0,r.jsx)("div",{align:"center",children:(0,r.jsx)("img",{src:"./introduction/mixed/inference_results/lite_demo_paddle.png",width:"800"})}),"\n",(0,r.jsx)(n.h3,{id:"q1-\u5c0f\u53cb-onxx-\u6a21\u578b\u652f\u6301\u7684-\u6700\u5927-ir-version-",children:"Q1: \u5c0f\u53cb+ ONXX \u6a21\u578b\u652f\u6301\u7684 \u6700\u5927 IR VERSION \uff1f"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"IR VERSION = 9"}),"\n"]}),"\n",(0,r.jsxs)(n.h3,{id:"q2-\u8f6c\u6362\u540e\u7684\u6a21\u578bonnx-runtime\u52a0\u8f7d\u63d0\u793aunknown-model-file-format-version",children:["Q2: \u8f6c\u6362\u540e\u7684\u6a21\u578b\uff0cONNX Runtime\u52a0\u8f7d\u63d0\u793a",(0,r.jsx)(n.code,{children:"Unknown model file format version"}),"?"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Paddle2ONNX\u4f7f\u7528\u4e86\u6700\u65b0\u7684ONNX\u534f\u8bae\uff0c\u5bfc\u51fa\u7684\u6a21\u578b\u5728\u4f7f\u7528\u4f4e\u7248\u672cONNX Runtime\u52a0\u8f7d\u65f6\uff0c\u4f1a\u51fa\u73b0\u6b64\u95ee\u9898\uff0c\u53ef\u901a\u8fc7\u5982\u4e0b\u4ee3\u7801\u4fee\u6539\u6a21\u578bIR VERSION\u89e3\u51b3\uff0c\u91cd\u65b0\u52a0\u8f7d\u65b0\u4fdd\u5b58\u7684",(0,r.jsx)(n.code,{children:"new_model.onnx"}),"\u5373\u53ef\u3002"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:'import onnx\r\nmodel = onnx.load("model.onnx")\r\nmodel.ir_version = 9\r\nonnx.save(model, "new_model.onnx")\n'})})]})}function x(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(h,{...e})}):h(e)}}}]);